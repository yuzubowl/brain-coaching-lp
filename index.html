<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>脳育てコーチング｜60秒で登録（メール→LINE）</title>
  <meta name="description" content="0-3歳の脳育てを科学的に。まずは無料メール登録→公式LINEで『脳育てコーチング1年目の教科書』を受け取る。" />
  <style>
    :root { --bg:#0f172a; --card:#111827; --text:#e5e7eb; --muted:#9ca3af; --accent:#22c55e; }
    *{box-sizing:border-box}
    body{margin:0;background:linear-gradient(180deg,#0b1023,#0f172a);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,"Hiragino Kaku Gothic ProN","Noto Sans JP","Yu Gothic",Meiryo,sans-serif;color:var(--text);}
    .wrap{max-width:720px;margin:0 auto;padding:32px}
    .card{background:rgba(17,24,39,.7);backdrop-filter:saturate(160%) blur(6px);border:1px solid rgba(255,255,255,.06);border-radius:20px;padding:28px;}
    h1{font-size:clamp(24px,4vw,36px);line-height:1.2;margin:0 0 8px}
    .sub{color:var(--muted);font-size:clamp(14px,2.4vw,16px);margin-bottom:16px}
    .points{display:grid;grid-template-columns:1fr;gap:10px;margin:18px 0}
    .point{display:flex;gap:10px;align-items:flex-start;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.06);padding:12px;border-radius:14px}
    .point b{color:#a7f3d0}
    form{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    input[type=email]{flex:1 1 260px;background:#0b1225;border:1px solid rgba(255,255,255,.12);color:var(--text);padding:14px 16px;border-radius:12px;font-size:16px}
    button{appearance:none;border:0;border-radius:12px;padding:14px 18px;font-weight:700;cursor:pointer}
    .btn-primary{background:var(--accent);color:#06280f}
    .btn-line{background:#06C755;color:#04260f;width:100%;margin-top:10px}
    .tiny{font-size:12px;color:var(--muted);margin-top:10px}
    .badge{display:inline-block;font-size:12px;padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.14);color:#c7d2fe;margin-bottom:10px}
    .footer{opacity:.7;font-size:12px;margin-top:24px}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="badge">60秒で完了 / 無料</div>
      <h1>脳育てコーチング｜0-3歳の親のための最短スタート</h1>
      <div class="sub">メールを登録 → 自動でLINEに移動。LINEで『脳育てコーチング1年目の教科書』を無料で受け取れます。</div>

      <div class="points">
        <div class="point">✅ <b>1日15分</b>でできる家庭での実践例を配信</div>
        <div class="point">✅ <b>科学的根拠</b>に基づく0-3歳の脳育てメソッド</div>
        <div class="point">✅ <b>父親歓迎</b>：忙しくても続くチェックリスト付き</div>
      </div>

      <script>
        const FORM_ENDPOINT = "https://form.run/@yuzuhajime--GFsLHfCdLF9AcCUcauqv";
        const LINE_URL = "https://lin.ee/kFTcXGHu";
      </script>

      <form id="leadForm">
        <input id="email" name="email" type="email" placeholder="メールアドレス" required />
        <button class="btn-primary" type="submit">登録してLINEに進む</button>
      </form>

      <button class="btn-line" id="lineBtn">LINEを開く（うまく進まない時）</button>

      <div class="tiny">登録ボタンを押すと、<a href="#" style="color:#93c5fd">プライバシーポリシー</a>に同意したものとみなします。迷惑メールは送りません。いつでも配信停止できます。</div>

      <div class="footer">© 脳育てコーチング</div>
    </div>
  </div>

  <script>
    function getUtmParams() {
      const params = new URLSearchParams(location.search);
      const known = ["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","wbraid","gbraid","yclid"];
      const obj = {};
      for (const k of known) if (params.get(k)) obj[k] = params.get(k);
      return obj;
    }

    document.getElementById('leadForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      const email = document.getElementById('email').value.trim();
      if (!email) return;

      const payload = {
        email,
        ...getUtmParams(),
        page_title: document.title,
        page_url: location.href,
        ts: new Date().toISOString()
      };

      const goLine = () => { window.location.href = LINE_URL; };

      try {
        await fetch(FORM_ENDPOINT, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload),
          mode: 'no-cors'
        });
      } catch(e) {
        console.warn('送信失敗:', e);
      } finally {
        goLine();
      }
    });

    document.getElementById('lineBtn').addEventListener('click', () => {
      window.location.href = LINE_URL;
    });
  </script>
</body>
</html>
